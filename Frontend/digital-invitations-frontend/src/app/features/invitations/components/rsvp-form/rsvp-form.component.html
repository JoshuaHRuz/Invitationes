<section class="rsvp-section">
  <div class="container">
    <h2 class="section-title">Confirmar Asistencia</h2>
    <p class="invitation-to">Invitación para: <strong>{{ invitationTo }}</strong></p>
    <p class="passes-info">Boletos disponibles</p>

    <form [formGroup]="rsvpForm" (ngSubmit)="onSubmit()">
      <div class="tickets-container" formArrayName="guests">
        <div class="ticket" *ngFor="let guest of guests.controls; let i = index" [formGroupName]="i">
          <div class="ticket-visual">
            <img src="/assets/images/photos/couple-1.png" alt="Foto de la pareja" class="ticket-photo">
            <div class="ticket-date">
              <span>Sábado</span>
              <span>04 Feb</span>
              <span>2026</span>
            </div>
          </div>
          <div class="ticket-info">
            <span class="ticket-number">Boleto #{{ i + 1 }}</span>
            <h3 class="ticket-event-name">Boda Ana y Alberto</h3>
            <div class="guest-name-container">
              <label>Invitado:</label>
              <input type="text" formControlName="name" [readOnly]="!guest.value.isEditable" class="guest-name-input">
            </div>
            <div class="attendance-options">
              <label class="radio-label">
                <input type="radio" formControlName="attendance" value="attending">
                <span>Si asistiré</span>
              </label>
              <label class="radio-label">
                <input type="radio" formControlName="attendance" value="not_attending">
                <span>No asistiré</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="message-container">
        <h4>Dedica un lindo mensaje...</h4>
        <textarea formControlName="message" placeholder="Tus palabras significan mucho para nosotros..."></textarea>
      </div>

      <div class="submit-container">
        <button type="submit" class="btn-submit">Enviar Confirmación</button>
      </div>
    </form>
  </div>
</section> 